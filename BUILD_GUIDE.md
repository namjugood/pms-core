# 빌드 및 배포 가이드

## 📦 EXE 파일 생성 방법

### 1단계: 빌드 준비

프로젝트가 정상적으로 작동하는지 확인:

```powershell
npm run dev
```

### 2단계: EXE 파일 생성

```powershell
npm run dist
```

이 명령은 다음 작업을 수행합니다:
1. TypeScript 컴파일 (`node build.js`)
2. Windows 설치 파일 생성 (`electron-builder`)

### 3단계: 생성된 파일 확인

빌드가 완료되면 `release` 폴더에서 다음 파일을 찾을 수 있습니다:

```
release/
├── 기여도 평가 점수 프로그램 Setup 1.0.0.exe  (설치 파일)
└── win-unpacked/                               (압축 해제된 버전)
    └── 기여도 평가 점수 프로그램.exe
```

## 📊 빌드 결과물

### 설치 파일 (NSIS Installer)
- **파일명**: `기여도 평가 점수 프로그램 Setup 1.0.0.exe`
- **크기**: 약 80-120MB
- **용도**: 사용자에게 배포
- **특징**: 
  - 자동으로 프로그램 파일 폴더에 설치
  - 시작 메뉴에 바로가기 생성
  - 제어판에서 제거 가능

### 포터블 버전
- **위치**: `release/win-unpacked/`
- **파일명**: `기여도 평가 점수 프로그램.exe`
- **특징**: 설치 없이 바로 실행 가능

## 🎨 아이콘 설정 (선택사항)

### 기본 아이콘 사용
아이콘을 설정하지 않으면 Electron 기본 아이콘이 사용됩니다.

### 커스텀 아이콘 사용
1. `.ico` 파일 준비 (256x256 권장)
2. 다음 위치에 저장:
   ```
   build/icon.ico
   ```
3. 빌드 실행

### 아이콘 없이 빌드하기
`package.json`에서 아이콘 설정 제거:

```json
"win": {
  "target": ["nsis"]
  // "icon": "build/icon.ico" 제거
}
```

## 🚀 빠른 빌드 명령어

### 개발 중 테스트
```powershell
npm run dev
```

### 패키징 테스트 (설치 파일 생성 안함)
```powershell
npm run pack
```

### 배포용 EXE 생성
```powershell
npm run dist
```

## 📝 배포 전 체크리스트

- [ ] 프로그램이 정상 작동하는지 확인 (`npm run dev`)
- [ ] 모든 기능 테스트
  - [ ] 탭 추가/삭제/이름 변경
  - [ ] 데이터 입력 및 계산
  - [ ] 저장/불러오기
  - [ ] 유효성 검사
- [ ] 버전 번호 확인 (`package.json`)
- [ ] 아이콘 설정 (선택사항)
- [ ] 빌드 실행 (`npm run dist`)
- [ ] 생성된 exe 파일 테스트

## 🔧 빌드 문제 해결

### 문제 1: "build/icon.ico not found"
**해결방법:**
- 아이콘 파일을 `build/icon.ico`에 배치
- 또는 `package.json`에서 아이콘 설정 제거

### 문제 2: 빌드가 느림
**원인:** electron-builder가 첫 빌드 시 필요한 파일을 다운로드
**해결방법:** 인내심을 가지고 기다리기 (첫 빌드 후엔 빠름)

### 문제 3: dist 폴더가 없음
**해결방법:**
```powershell
node build.js
```
먼저 실행하여 dist 폴더 생성

## 📦 배포 방법

### 방법 1: 직접 배포 (권장)
1. `release/기여도 평가 점수 프로그램 1.0.0.exe` 파일을 배포
2. 사용자가 다운로드 후 더블클릭으로 바로 실행
3. 설치 과정 없이 즉시 사용 가능

### 방법 2: 클라우드 스토리지
- Google Drive에 업로드
- OneDrive 공유 링크
- Dropbox 공유
- 네트워크 공유 폴더

### 방법 3: USB 배포
- USB에 복사하여 배포
- 어디서든 실행 가능
- 데이터 파일도 함께 저장 가능

## 🎯 버전 관리

버전 번호 변경:
```json
// package.json
{
  "version": "1.0.0"  // 여기 수정
}
```

버전 번호 규칙:
- `1.0.0` → 첫 배포
- `1.0.1` → 버그 수정
- `1.1.0` → 새 기능 추가
- `2.0.0` → 대규모 변경

## 📊 빌드 결과 예시

```
기여도 평가 점수 프로그램 Setup 1.0.0.exe
├── 크기: 약 100MB
├── 설치 위치: C:\Program Files\기여도 평가 점수 프로그램\
└── 실행 파일: 기여도 평가 점수 프로그램.exe
```

## ⚠️ 주의사항

1. **Windows Defender**: 첫 실행 시 경고가 나올 수 있음 (정상)
2. **디지털 서명**: 서명이 없으면 "알 수 없는 게시자" 경고
3. **파일 크기**: Electron 앱은 Chrome 엔진을 포함하여 크기가 큼
4. **자동 업데이트**: 현재 버전은 자동 업데이트 미지원

## 🔐 코드 서명 (선택사항)

프로덕션 배포 시 권장:
1. 코드 서명 인증서 구매
2. `package.json`에 설정 추가
3. 빌드 시 자동으로 서명

## 📞 문제 발생 시

1. `node_modules` 삭제 후 재설치
2. `dist` 폴더 삭제 후 재빌드
3. `release` 폴더 삭제 후 재빌드

