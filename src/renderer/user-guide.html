<!DOCTYPE html>
<html lang="ko">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>사용자 가이드</title>
  <link rel="stylesheet" href="./styles/user-guide.css">
</head>
<body>
  <button class="close-btn" onclick="window.close()">닫기</button>
  
  <div class="guide-header">
    <h1>📖 기여도 평가 점수 프로그램</h1>
    <p class="version">Version 2.1.0</p>
  </div>

  <div class="tabs-nav">
    <button class="tab-btn active" onclick="openTab('guide')">사용자 가이드</button>
    <button class="tab-btn" onclick="openTab('updates')">업데이트 내역</button>
  </div>

  <div class="content-wrapper">
    
    <div id="guide" class="tab-content active">
      <h2>🎯 프로그램 소개</h2>
      <p>여러분의 기여도 평가와 경력 작성을 전략적으로 관리할 수 있도록 만든 프로그램입니다.</p>
      
      <div class="feature-box">
        <strong>주요 기능</strong>
        <ul>
          <li>다중 탭 지원으로 여러 프로젝트 관리</li>
          <li>실시간 자동 계산 및 전체 평균 산출</li>
          <li><strong>경력 기술서 PDF 내보내기</strong> (미리보기 지원)</li>
          <li>안전한 데이터 저장 (.dat 파일)</li>
        </ul>
      </div>

      <h2>🚀 빠른 시작</h2>
      <h3>1. 탭 관리</h3>
      <ul>
        <li><strong>탭 추가</strong>: 오른쪽 상단 '+' 버튼 클릭</li>
        <li><strong>탭 이름 변경</strong>: 탭 이름을 더블클릭하여 변경 (인라인 편집)</li>
        <li><strong>탭 전환</strong>: 탭을 클릭하여 전환</li>
        <li><strong>탭 닫기</strong>: 탭 우측 '×' 버튼 클릭</li>
      </ul>

      <h3>2. 데이터 입력</h3>
      <ol>
        <li><strong>행 추가</strong>: 우측 상단 "+ 행 추가" 버튼 클릭</li>
        <li><strong>설명</strong>: 업무/프로젝트 성과 입력 (여러 줄 가능)</li>
        <li><strong>날짜</strong>: <code>20240115</code> 입력 후 Enter 또는 📅 아이콘 클릭</li>
        <li><strong>비중</strong>: 0~100% (탭 내 합계 100% 권장)</li>
        <li><strong>점수</strong>: 0~100점 (입력 즉시 자동 계산)</li>
      </ol>

      <div class="tip">
        <strong>💡 Tip:</strong> 입력한 점수는 전체 탭 개수로 나누어 평균이 계산되므로, 프로젝트(탭) 수에 따라 전체 예상 점수가 변동될 수 있습니다.
      </div>

      <h2>📄 파일 및 출력</h2>
      <ul>
        <li><strong>저장 (Ctrl+S)</strong>: 작업 내용 저장</li>
        <li><strong>불러오기 (Ctrl+O)</strong>: 저장된 파일 복원</li>
        <li><strong>PDF 내보내기 (Ctrl+P)</strong>: 경력 기술서 양식으로 변환하여 저장</li>
      </ul>

      <h2>⌨️ 키보드 단축키</h2>
      <table class="shortcut-table">
        <thead>
          <tr>
            <th>단축키</th>
            <th>기능</th>
          </tr>
        </thead>
        <tbody>
          <tr><td>Ctrl + S</td><td>저장</td></tr>
          <tr><td>Ctrl + Shift + S</td><td>다른 이름으로 저장</td></tr>
          <tr><td>Ctrl + O</td><td>파일 불러오기</td></tr>
          <tr><td>Ctrl + P</td><td>PDF 내보내기 (미리보기)</td></tr>
          <tr><td>Ctrl + Wheel</td><td>미리보기 확대/축소</td></tr>
          <tr><td>Ctrl + Shift + V</td><td>유효성 검사</td></tr>
          <tr><td>Ctrl + Z</td><td>실행 취소</td></tr>
        </tbody>
      </table>
    </div>

    <div id="updates" class="tab-content">
      <h2>✨ v2.1.0 주요 업데이트 (Current)</h2>
      <div class="update-box">
        <p><strong>경력 기술서 작성에 최적화된 기능이 추가되었습니다.</strong></p>
        <ul>
          <li><strong>PDF 내보내기 기능 강화</strong>:
            <ul>
              <li><strong>미리보기 창 제공</strong>: 저장 전 내용 확인 가능</li>
              <li><strong>확대/축소 지원</strong>: <code>Ctrl + 마우스 휠</code>로 자유롭게 조절</li>
              <li><strong>자동 서식 적용</strong>: 경력 기술서 작성용 양식 적용</li>
              <li><strong>기간 자동 산출</strong>: 입력된 날짜 중 최솟값/최댓값을 찾아 총 기간 표시</li>
            </ul>
          </li>
          <li><strong>UI/UX 개선</strong>:
            <ul>
              <li>미리보기 디자인 개선 (가독성 향상, Zebra Striping 적용)</li>
              <li>스크롤 및 레이아웃 최적화</li>
            </ul>
          </li>
        </ul>
      </div>

      <h3>📅 히스토리</h3>
      <ul>
        <li><strong>v2.0.0</strong>: 점수 산정 방식 변경(Global Averaging), 기본 PDF 내보내기 탑재, 데이터 구조 개편</li>
        <li><strong>v1.1.0</strong>: 탭 기능 도입, 다크 모드 테마 적용</li>
        <li><strong>v1.0.0</strong>: 초기 릴리즈, 기본 점수 계산 기능</li>
      </ul>
    </div>

  </div>

  <script>
    function openTab(tabId) {
      const contents = document.querySelectorAll('.tab-content');
      contents.forEach(content => content.classList.remove('active'));

      const buttons = document.querySelectorAll('.tab-btn');
      buttons.forEach(btn => btn.classList.remove('active'));

      document.getElementById(tabId).classList.add('active');
      
      const targetBtn = Array.from(buttons).find(btn => 
        btn.getAttribute('onclick').includes(`'${tabId}'`)
      );
      if (targetBtn) targetBtn.classList.add('active');
    }
  </script>
</body>
</html>